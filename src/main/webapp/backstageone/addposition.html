<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../layui/layui.js"></script>
    <link rel="stylesheet" href="../layui/css/layui.css">
    <script src="js/jquery.serializejson.js"></script>


</head>
<body>



    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
        <legend>职位管理</legend>
    </fieldset>


    <div class="layui-tab">
        <ul class="layui-tab-title">
            <li class="layui-this">新增职位</li>
            <li>用户管理</li>
            <li>权限分配</li>
            <li>商品管理</li>
            <li>订单管理</li>
        </ul>

        <div class="layui-tab-content">
            <div class="layui-tab-item layui-show">
                <!--新增职位-->
                <form class="layui-form" action="" id="recruitsment">
                    <div class="layui-form-item">
                        <label class="layui-form-label">职位名称</label>
                        <div class="layui-input-block">
                            <input type="text" name="introduction" id="introduction" required  lay-verify="required" placeholder="如：人力资源经理" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">工作性质</label>
                        <div class="layui-input-block">
                            <input name="jobnature" id="1" title="全职" type="radio" checked="" value="1">
                            <input name="jobnature" id="2" title="兼职" type="radio" value="2">
                            <input name="jobnature" id="3" title="实习" type="radio" value="3">
                        </div>
                    </div>
                    <div class="layui-form-item" id="distpicker">
                        <label class="layui-form-label">工作地址</label>
                        <div class="layui-input-inline">
                            <select id="province1" name="province1">
                                <option value="">—— 省 ——</option>
                                <option value="北京市" selected="">北京市</option>
                                <option value="天津市" >天津市</option>
                                <option value="河北省" >河北省</option>
                                <option value="山西省" >山西省</option>
                                <option value="内蒙古自治区" >内蒙古自治区</option>
                                <option value="辽宁省" >辽宁省</option>
                                <option value="吉林省" >吉林省</option>
                                <option value="黑龙江省" >黑龙江省</option>
                                <option value="上海市" >上海市</option>
                                <option value="江苏省">江苏省</option>
                                <option value="浙江省" >浙江省</option>
                                <option value="安徽省">安徽省</option>
                                <option value="福建省" >福建省</option>
                                <option value="江西省" >江西省</option>
                                <option value="山东省" >山东省</option>
                                <option value="河南省">河南省</option>
                                <option value="湖北省">湖北省</option>
                                <option value="湖南省">湖南省</option>
                                <option value="广东省">广东省</option>
                                <option value="广西壮族自治区">广西壮族自治区</option>
                                <option value="海南省">海南省</option>
                                <option value="重庆市">重庆市</option>
                                <option value="四川省">四川省</option>
                                <option value="贵州省">贵州省</option>
                                <option value="云南省">云南省</option>
                                <option value="西藏自治区">西藏自治区</option>
                                <option value="陕西省">陕西省</option>
                                <option value="甘肃省">甘肃省</option>
                                <option value="青海省">青海省</option>
                                <option value="宁夏回族自治区">宁夏回族自治区</option>
                                <option value="新疆维吾尔自治区">新疆维吾尔自治区</option>
                                <option value="台湾省">台湾省</option>
                                <option value="香港特别行政区">香港特别行政区</option>
                                <option value="澳门特别行政区">澳门特别行政区</option>
                            </select>
                        </div>
                        <div class="layui-input-inline">
                            <select id="city1" name="city">
                                <option value="">—— 市 ——</option>
                                <option value="北京市市辖区" selected="">北京市市辖区</option>
                            </select>
                        </div>
                        <div class="layui-input-inline">
                            <select id="district1" name="districtl">
                                <option value="">—— 区 ——</option>
                                <option value="东城区" selected="">东城区</option>
                                <option value="西城区">西城区</option>
                                <option value="朝阳区">朝阳区</option>
                                <option value="丰台区">丰台区</option>
                                <option value="石景山区">石景山区</option>
                                <option value="海淀区">海淀区</option>
                                <option value="门头沟区">门头沟区</option>
                                <option value="房山区">房山区</option>
                                <option value="通州区">通州区</option>
                                <option value="顺义区">顺义区</option>
                                <option value="昌平区">昌平区</option>
                                <option value="大兴区">大兴区</option>
                                <option value="怀柔区">怀柔区</option>
                                <option value="平谷区">平谷区</option>
                                <option value="密云区">密云区</option>
                                <option value="延庆区">延庆区</option>
                            </select>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">月薪范围</label>
                            <div class="layui-input-inline">
                                <select name="srangeid" lay-verify="required" lay-search="" id="srange">
                                    <option value="">直接选择或搜索选择</option>
                                    <option v-for="(srangeAlias,index) in srangeParam" v-bind:value="index+1">{{srangeAlias.salaryrange}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">最低学历</label>
                            <div class="layui-input-inline">
                                <select name="educationid" lay-verify="required" lay-search="" id="education">
                                    <option value="">直接选择或搜索选择</option>
                                    <option v-for="(educationAlias,index) in educationParam" v-bind:value="index">{{educationAlias.educationname}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">工作年限</label>
                            <div class="layui-input-inline">
                                <select name="ywrangeid" lay-verify="required" lay-search="" id="yearsworking">
                                    <option value="">直接选择或搜索选择</option>
                                    <option v-for="(yearsworkingAlias,index) in yearsworkingParam" v-bind:value="index+1">{{yearsworkingAlias.ywrange}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="layui-form-item layui-form-text">
                        <label class="layui-form-label">职位描述</label>
                        <div class="layui-input-block">
                            <textarea placeholder="请输入内容" class="layui-textarea" id="jobdescription " name="jobdescription"></textarea>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">职位类别</label>
                            <div class="layui-input-inline">
                                <select name="jobcgid" lay-verify="required" lay-search="" id="jobcategory">
                                    <option value="">直接选择或搜索选择</option>
                                    <option v-for="(jobcategoryAlias,index) in jobcategoryParam" v-bind:value="index+1">{{jobcategoryAlias.jobcgname}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">公司福利</label>
                            <div class="layui-input-inline">
                                <select name="cpwelfareid" lay-verify="required" lay-search="" id="cpwelfare">
                                    <option value="">直接选择或搜索选择</option>
                                    <option v-for="(cpwelfareAlias,index) in cpwelfareParam" v-bind:value="index+1">{{cpwelfareAlias.cpwelfarename}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">招聘人数</label>
                        <div class="layui-input-block">
                            <input type="text" name="rnumbers" id="rnumbers" required  lay-verify="required" placeholder="请输入标题" autocomplete="off" class="layui-input">
                        </div>
                    </div>

                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <button class="layui-btn" lay-submit lay-filter="formDemo" id="btn">立即提交</button>
                            <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="layui-tab-item">内容2</div>
            <div class="layui-tab-item">内容3</div>
            <div class="layui-tab-item">内容4</div>
            <div class="layui-tab-item">内容5</div>
        </div>
    </div>


<script src="shengshiqu/jquery.min.js"></script>
<script src="shengshiqu/distpicker.data.js"></script>
<script src="shengshiqu/distpicker.js"></script>
<script src="shengshiqu/main.js"></script>
<script src="js/vue.min.js"></script>

   <!-- <script>
        //提交数据
        $("#btn").click(function () {
            var recruitsdata = $("#recruitsment").serializeJSON();


        })
        
    </script>-->
<script>
    //Demo
    layui.use('form', function(){
        var form = layui.form;

        //监听提交
        form.on('submit(formDemo)', function(data){
           layer.msg(JSON.stringify(data.field));
            $.ajax({
                url:"../recruitment/addRecruitment",
                data:JSON.stringify(data.field),
                type:"post",
                contentType:"application/json",
                success:function (data) {
                    if(data){
                        alert("成功");
                    }else{
                        alert("失败")
                    }
                }
            })
            return false;
        });
    });
</script>
<script>
    layui.use('element', function(){
        var $ = layui.jquery
            ,element = layui.element; //Tab的切换功能，切换事件监听等，需要依赖element模块

        //触发事件
        var active = {
            tabAdd: function(){
                //新增一个Tab项
                element.tabAdd('demo', {
                    title: '新选项'+ (Math.random()*1000|0) //用于演示
                    ,content: '内容'+ (Math.random()*1000|0)
                    ,id: new Date().getTime() //实际使用一般是规定好的id，这里以时间戳模拟下
                })
            }
            ,tabDelete: function(othis){
                //删除指定Tab项
                element.tabDelete('demo', '44'); //删除：“商品管理”


                othis.addClass('layui-btn-disabled');
            }
            ,tabChange: function(){
                //切换到指定Tab项
                element.tabChange('demo', '22'); //切换到：用户管理
            }
        };

        $('.site-demo-active').on('click', function(){
            var othis = $(this), type = othis.data('type');
            active[type] ? active[type].call(this, othis) : '';
        });

        //Hash地址的定位
        var layid = location.hash.replace(/^#test=/, '');
        element.tabChange('test', layid);

        element.on('tab(test)', function(elem){
            location.hash = 'test='+ $(this).attr('lay-id');
        });

    });
</script>
<script>
    /*月薪范围*/
    new Vue({
        el:"#srange",
        data:{
            srangeParam:[],

        },
        created:function(){
            var srangeAlias=this;
            $.ajax({
                url:"../recruitment/querysrange",
                type:"post",
                dataType:"json",
                success:function (data) {
                    srangeAlias.srangeParam=data
                    console.log(data)
                }
            })
        }
    })
    /*工作年限*/
    new Vue({
        el:"#yearsworking",
        data:{
            yearsworkingParam:[]
        },
        created:function(){
            var yearsworkingAlias=this;
            $.ajax({
                url:"../recruitment/queryyearsworking",
                type:"post",
                dataType:"json",
                success:function (data) {
                    yearsworkingAlias.yearsworkingParam=data
                    console.log(data)
                }
            })
        }
    })
    /*职位类别*/
    new Vue({
        el:"#jobcategory",
        data:{
            jobcategoryParam:[]
        },
        created:function(){
            var jobcategoryAlias=this;
            $.ajax({
                url:"../recruitment/queryjobcategory",
                type:"post",
                dataType:"json",
                success:function (data) {
                    jobcategoryAlias.jobcategoryParam=data
                    console.log(data)
                }
            })
        }
    })
    /*公司福利*/
    new Vue({
        el:"#cpwelfare",
        data:{
            cpwelfareParam:[]
        },
        created:function(){
            var cpwelfareAlias=this;
            $.ajax({
                url:"../recruitment/querycpwelfare",
                type:"post",
                dataType:"json",
                success:function (data) {
                    cpwelfareAlias.cpwelfareParam=data
                    console.log(data)
                }
            })
        }
    })
    /*学历*/
    new Vue({
        el:"#education",
        data:{
            educationParam:[]
        },
        created:function(){
            var educationAlias=this;
            $.ajax({
                url:"../recruitment/queryeducation",
                type:"post",
                dataType:"json",
                success:function (data) {
                    educationAlias.educationParam=data
                    console.log(data)
                }
            })
        }
    })

</script>
</body>
</html>